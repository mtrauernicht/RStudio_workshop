---
title: "RStudio workshop - Demo"
author: 
  - name: "Max Trauernicht"
    email: "m.trauernicht@nki.nl"
    affiliation: "Netherlands Cancer Institute / University of Twente"
date: '20/02/2025'
output: 
  html_document:
    theme: flatly  # Modern, professional look
    highlight: tango  # Clean code highlighting
    fig_caption: true
    code_folding: show  # Users can expand/collapse code
    df_print: paged  # Paginate long tables instead of cluttering the page
    toc: true
    toc_depth: 2  # Limits TOC depth for clarity
    toc_float: 
      collapsed: true  # Keeps TOC clean, expandable when needed
      smooth_scroll: true  # Smooth scrolling when clicking TOC links
    number_sections: true  # Automatically number sections
    mathjax: "default"  # Enables LaTeX-style equations if needed

---

---

## **Description of the analysis**
In this document, I will first load the demo interview data. Then, I will manipulate the data to get the data frame in the right format for plotting and statistical analysis. I will then visualize the data to gain insights. I will also perform basic statistical tests to generate solid conclusions about the data.

---






## Setup {.tabset}

<!-- little HTML script to do indentation of the table of contents -->
<script>
    $(document).ready(function() {
      $items = $('div#TOC li');
      $items.each(function(idx) {
        num_ul = $(this).parentsUntil('#TOC').length;
        $(this).css({'text-indent': num_ul * 10, 'padding-left': 0});
      });

    });
</script>

```{css, echo = FALSE}
div.sourceCode {
  overflow-x: hidden;
}
```

---

### Load libraries
```{r setup, out.width= "80%", fig.align= "center", echo=FALSE, warning= FALSE, message=FALSE}
# Set some global options
knitr::opts_chunk$set(echo = TRUE)
StartTime <-Sys.time()
Date <- substr(gsub("-","",Sys.time()),1,8) 


# Load libraries (make sure to have them installed before using install.packages("package_name"))
library(tidyverse)
library(stats)
```

---

### Load data

```{r load data, out.width= "80%", fig.align= "center", echo=FALSE, warning= FALSE, message=FALSE}
# Load pre-workshop data
pre_workshop_data <- read_csv("https://raw.githubusercontent.com/mtrauernicht/RStudio_workshop/main/cyber_security_pre_workshop_data.csv")
### Alternative: download data and load using read_csv("cyber_security_pre_workshop.csv")

# Load post-workshop data
post_workshop_data <- read_csv("https://raw.githubusercontent.com/mtrauernicht/RStudio_workshop/main/cyber_security_post_workshop_data.csv")

### View data directly by Cmd + Click (Mac) or Ctrl + Click (Windows) on loaded object 
```

---

### Data manipulation

```{r data_manipulation, out.width= "80%", fig.align= "center", echo=FALSE, warning= FALSE, message=FALSE}
# Select and rename relevant columns
## print names(pre_workshop_data) in console to quickly see column names
### First for the pre_workshop_data
pre_workshop_data <- pre_workshop_data %>%
  select(Gender, 
         'College' = `Which technical college are you currently enrolled in?`,
         Course,
         'Awareness' = `How would you rate your current level of awareness and understanding of cybersecurity?`,
         'Importance' = `How important do you think cybersecurity is in today's digital age?`)

### Now also for the post_workshop_data
post_workshop_data <- post_workshop_data %>%
  select(Gender, College, Course,
         'Importance' = `How important do you think cybersecurity is in today's digital age?`,
         'Attendance' = `Did you attend the cybersecurity workshop?`,
         'Effective' = `How effective do you think the workshop was in enhancing your understanding of cybersecurity?`,
         'Confident' = `How confident are you in your ability to practice good cybersecurity measures after attending the workshop?`)
```

---

## Data visualisation

```{r data_visualization_1, out.width= "80%", fig.align= "center", echo=FALSE, warning= FALSE, message=FALSE}
# Gender distribution per college in the pre-workshop questionnaire
ggplot(pre_workshop_data,
       aes(x = Gender)) +
  geom_bar() +
  facet_wrap(~College) +
  labs(title = "Gender distribution per college in the pre-workshop questionnaire") +
  theme_bw()

# The same plot but in the post-workshop questionnaire
ggplot(post_workshop_data,
       aes(x = Gender)) +
  geom_bar() +
  facet_wrap(~College) +
  labs(title = "Gender distribution per college in the post-workshop questionnaire") +
  theme_bw()
```

---


# Session Info
```{r}
paste("Run time: ",format(Sys.time()-StartTime))
getwd()
date()
sessionInfo()
```

